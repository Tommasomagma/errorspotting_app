It looks like you only calculated the discount amount without subtracting it from the original price.